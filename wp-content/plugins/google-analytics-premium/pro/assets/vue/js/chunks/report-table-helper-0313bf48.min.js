import{A as T,h as l,m as d,n as p,V as Y,z as B}from"./vendor-69fa03c8.min.js";import{S as b}from"./SettingsInfoTooltip-4d8deea5.min.js";const L={name:"ReportOverviewLineChartApex",props:{chartData:Object,tooltipDescriptor:String,chartStyles:{type:Object,default(){return{foreColor:"#999",borderColor:"#f3f6fa",colors:["#3a93dd","#5CC0A5"],markersStrokeColor:["#3a93dd"],markersColors:["#ffffff"],markersStrokeColorHover:["#ffffff"],markersColorsHover:["#3a93dd"],fontSize:"12px",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'}}}},components:{apexchart:T},methods:{chartOptions(){const s=this.chartData,t=this.tooltipDescriptor,e=this.$formatNumber,a=this.siteNotes,r=this.chartStyles,i=s.datasets?Math.min(...s.data):1;let o=this;return{chart:{type:"area",foreColor:r.foreColor,stacked:!1,dropShadow:{enabled:!0,enabledSeries:[0],top:-2,left:2,blur:5,opacity:.06},animations:{enabled:!1},toolbar:{show:!1},width:"100%",height:355,zoom:!1},padding:{left:0},colors:r.colors,stroke:{curve:"straight",width:3},dataLabels:{enabled:!1},markers:{size:4,colors:r.markersColors,strokeColor:r.markersStrokeColor,strokeWidth:1,strokeOpacity:1,fillOpacity:1,hover:{size:5,strokeColor:r.markersStrokeColorHover,colors:r.markersColorsHover}},xaxis:{type:"datetime",axisTicks:{show:!1},labels:{format:"d MMM"},tooltip:{enabled:!1}},yaxis:{tooltip:{enabled:!1},labels:{formatter(n){return i>0&&i<1?n.toFixed(1):n&&n.toFixed(0)}}},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}},borderColor:r.borderColor,strokeDashArray:0,position:"back",padding:{top:0,right:24,bottom:0,left:20}},tooltip:{custom({dataPointIndex:n}){let v=s.labels[n]?s.labels[n]:"0",D=e(s.data[n]),f=n>0?parseInt(s.trend[n-1]):0,_="";f===0?_="0%":f>0?_='<span class="monsterinsights-green"><span class="monsterinsights-arrow monsterinsights-up"></span>'+f+"%</span>":_='<span class="monsterinsights-red"><span class="monsterinsights-arrow monsterinsights-down"></span>'+Math.abs(f)+"%</span>";let k=s.timestamps[n]*1e3,g="";a[k]&&(a[k].forEach(function(x){g+="<span>"+x.title+"</span><br />"}),g!==""&&(g='<div class="monsterinsights-reports-apex-datagraph-tooltip-sitenotes"><hr />'+g+"</div>"));let y="";if(o.date.compareReport&&o.chartData.compare&&o.chartData.compare[n]){let $=l.unix(o.chartData.compare[n][0]),x=e(o.chartData.compare[n][1]);y=y+'<div class="monsterinsights-reports-overview-datagraph-tooltip-title monsterinsights-reports-overview-datagraph-tooltip-title-compare">'+$.format("D MMM")+'</div><div class="monsterinsights-reports-overview-datagraph-tooltip-number">'+x+"</div>"}return'<div id="monsterinsights-chartjs-line-apex-tooltip" class="monsterinsights-line-chart-apex-tooltip top"><div class="monsterinsights-reports-datagraph-tooltip-container monsterinsights-reports-tooltip" > <div class="monsterinsights-reports-overview-datagraph-tooltip-title">'+v+'</div><div class="monsterinsights-reports-overview-datagraph-tooltip-number">'+D+"</div>"+y+'<div class="monsterinsights-reports-overview-datagraph-tooltip-descriptor">'+t+'</div><div class="monsterinsights-reports-overview-datagraph-tooltip-trend">'+_+"</div>"+g+"</div></div>"},x:{show:!0,format:"dd MMM yyyy",formatter:void 0},style:{fontSize:r.fontSize,fontFamily:r.fontFamily}},legend:{position:"bottom",horizontalAlign:"center"},fill:{type:"solid",opacity:.15},annotations:{points:this.chartAnnotationsPoints()}}},chartSeries(){const s=this.date.intervalText;if(typeof this.chartData.data>"u")return[{name:s,data:[]}];const t=[];for(let a=0;a<this.chartData.data.length;a++)t.push([this.chartData.timestamps[a]*1e3,this.chartData.data[a]]);let e=[{name:s,data:t,zIndex:2}];if(this.date.compareReport&&this.chartData.compare){let a=[];t.forEach((r,i)=>{let o=this.chartData.compare[i]?this.chartData.compare[i][1]:0;a.push([r[0],o])}),e.push({name:this.date.intervalCompareText,data:a,zIndex:1})}return e},chartAnnotationsPoints(){let s=[];const t=this.siteNotes;for(let e in t){let a=t[e];if(!a[0])continue;let r=a[0].important,i=a[0].color?a[0].color:"#3a93dd".replace("#",""),o="";r?o='data:image/svg+xml,%3C%3Fxml version="1.0" encoding="utf-8"%3F%3E%3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 25 25" style="enable-background:new 0 0 25 25;" xml:space="preserve"%3E%3Cstyle type="text/css"%3E.st0%7Bfill:%23'+i+';%7D.st1%7Bfill:%23FFFFFF;%7D.st2%7Bfill:%23FFD74B;%7D%3C/style%3E%3Cg%3E%3Cg%3E%3Cpath class="st0" d="M22.5,0.7H2.5c-0.6,0-1.1,0.5-1.1,1v18.6c0,0.6,0.5,1,1.1,1h6.4c0.2,0,0.4,0.1,0.5,0.2l2.5,2.6 c0.3,0.3,0.8,0.3,1.1,0l2.5-2.6c0.1-0.1,0.3-0.2,0.5-0.2h6.4c0.6,0,1.1-0.5,1.1-1V1.7C23.6,1.1,23.1,0.7,22.5,0.7z"/%3E%3Cpath class="st1" d="M12.5,24.6C12.5,24.6,12.5,24.6,12.5,24.6c-0.3,0-0.6-0.1-0.8-0.3l-2.5-2.6c-0.1-0.1-0.2-0.1-0.3-0.1H2.5 c-0.8,0-1.4-0.6-1.4-1.3V1.7c0-0.7,0.6-1.3,1.4-1.3h19.9c0.8,0,1.4,0.6,1.4,1.3v18.6c0,0.7-0.6,1.3-1.4,1.3h-6.4 c-0.1,0-0.2,0-0.3,0.1l-2.5,2.6C13.1,24.5,12.8,24.6,12.5,24.6z M2.5,1C2.1,1,1.7,1.3,1.7,1.7v18.6c0,0.4,0.4,0.7,0.8,0.7h6.4 c0.3,0,0.6,0.1,0.8,0.3l2.5,2.6c0.1,0.1,0.2,0.1,0.3,0.1c0,0,0,0,0,0c0.1,0,0.2,0,0.3-0.1l2.5-2.6c0.2-0.2,0.5-0.3,0.8-0.3h6.4 c0.4,0,0.8-0.3,0.8-0.7V1.7c0-0.4-0.4-0.7-0.8-0.7H2.5z"/%3E%3C/g%3E%3Cpath class="st2" d="M13.1,4.9l1.7,3.2c0.1,0.2,0.3,0.3,0.5,0.3L19.1,9c0.6,0.1,0.8,0.7,0.4,1.1l-2.7,2.5c-0.2,0.1-0.2,0.4-0.2,0.6 l0.6,3.5c0.1,0.5-0.5,0.9-1,0.7l-3.4-1.7c-0.2-0.1-0.4-0.1-0.6,0l-3.4,1.7c-0.5,0.2-1.1-0.2-1-0.7l0.6-3.5c0-0.2,0-0.4-0.2-0.6 l-2.7-2.5C5.1,9.7,5.3,9,5.9,9l3.8-0.5c0.2,0,0.4-0.2,0.5-0.3l1.7-3.2C12.1,4.4,12.9,4.4,13.1,4.9L13.1,4.9z"/%3E%3C/g%3E%3C/svg%3E%0A':o="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2042.4%2047.9%22%20style%3D%22enable-background%3Anew%200%200%2042.4%2047.9%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E.st0%7Bfill%3A%23"+i+"%3B%7D.st1%7Bfill%3A%23FFFFFF%3B%7D%3C%2Fstyle%3E%3Cg%3E%3Cg%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M38.9%2C1.6H3.5c-1.1%2C0-1.9%2C0.9-1.9%2C1.9V39c0%2C1.1%2C0.9%2C1.9%2C1.9%2C1.9h12.8l4.9%2C5.1l4.9-5.1h12.8c1.1%2C0%2C1.9-0.9%2C1.9-1.9V3.6C40.9%2C2.5%2C40%2C1.6%2C38.9%2C1.6z%22%2F%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M21.2%2C46.6l-5.1-5.3H3.5c-1.3%2C0-2.3-1-2.3-2.3V3.6c0-1.3%2C1-2.3%2C2.3-2.3h35.4c1.3%2C0%2C2.3%2C1%2C2.3%2C2.3V39c0%2C1.3-1%2C2.3-2.3%2C2.3H26.3L21.2%2C46.6z%20M3.5%2C2C2.6%2C2%2C1.9%2C2.7%2C1.9%2C3.6V39c0%2C0.9%2C0.7%2C1.6%2C1.6%2C1.6h12.9l4.8%2C5l4.8-5h12.9c0.9%2C0%2C1.6-0.7%2C1.6-1.6V3.6c0-0.9-0.7-1.6-1.6-1.6H3.5z%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cg%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M33.1%2C14.6H9.3c-0.6%2C0-1.2-0.6-1.2-1.2s0.5-1.2%2C1.2-1.2h23.7c0.6%2C0%2C1.2%2C0.6%2C1.2%2C1.2S33.7%2C14.6%2C33.1%2C14.6z%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M33.1%2C22H9.3c-0.6%2C0-1.2-0.6-1.2-1.2s0.5-1.2%2C1.2-1.2h23.7c0.6%2C0%2C1.2%2C0.6%2C1.2%2C1.2S33.7%2C22%2C33.1%2C22z%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M33.1%2C29.4H9.3c-0.6%2C0-1.2-0.6-1.2-1.2s0.5-1.2%2C1.2-1.2h23.7c0.6%2C0%2C1.2%2C0.6%2C1.2%2C1.2S33.7%2C29.4%2C33.1%2C29.4z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E",s.push({x:e,y:0,marker:0,image:{path:o}})}return s}},computed:{...d({date:"$_reports/date"}),siteNotes(){let s=this.chartData&&this.chartData.notes?this.chartData.notes:[];if(typeof s>"u")return[];if(s.length==0)return s;let t={...s},e=this.chartData,a=[];return Object.keys(t).forEach(r=>{const i=e.labels.indexOf(r),o=this.chartData.timestamps[i]*1e3;a[o]=[...t[r]]}),a}}};var z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"apexchart-overview apexchart-line-chart"},[e("apexchart",{attrs:{options:t.chartOptions(),series:t.chartSeries(),height:"355"}})],1)},O=[],N=p(L,z,O,!1,null,null,null,null);const zt=N.exports,I={COLORS:["#2870C8","#489DFF","#BDDEFF","#7AAEE3","#5FB2F2","#9FCAFF","#166BAF","#80B9FF","#007EFF","#DBEDFF","#4CA6BC","#5E2CEC","#CB4CD0","#F164F6","#FDC5FF","#BDE9F3","#B79EFF","#5DC8E2","#FCA4FF","#BDE2FF","#4CA6BC","#5E2CEC","#CB4CD0","#F164F6","#FDC5FF","#BDE9F3","#B79EFF","#5DC8E2","#FCA4FF","#BDE2FF"]},H=null,U=null;var V=p(I,H,U,!1,null,null,null,null);const P=V.exports,W={name:"ReportPieChartApex",props:{chartData:Object,height:{type:Number,required:!0},width:{type:Number,required:!0},size:{type:Number,required:!0},colors:{type:Array,required:!1},withLegend:{type:Boolean,required:!1}},components:{apexchart:T},methods:{chartOptions(){return{chart:{type:"donut"},colors:this.chartColors(),plotOptions:{pie:{donut:{size:this.size+"%"}}},labels:this.chartLabels(),legend:{show:this.withLegend,position:"bottom",horizontalAlign:"left",offsetY:8,onItemHover:{highlightDataSeries:!1}},dataLabels:{enabled:!1},grid:{padding:{top:0,bottom:0,left:0,right:0}}}},chartSeries(){let s=[];return typeof this.chartData.values<"u"&&this.chartData.values.forEach(function(t){typeof t<"u"?s.push(t):s.push(0)}),s},chartLabels(){let s=[];return typeof this.chartData.labels<"u"&&this.chartData.labels.forEach(function(t){typeof t<"u"?s.push(t):s.push("")}),s},chartColors(){return this.colors||P.COLORS}}};var q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"apexchart-overview apexchart-pie-chart"},[e("apexchart",{attrs:{options:t.chartOptions(),series:t.chartSeries(),width:t.width,height:t.height}})],1)},j=[],G=p(W,q,j,!1,null,null,null,null);const Z=G.exports,K={name:"ReportOverviewPieChartApex",components:{SettingsInfoTooltip:b,ReportPieChartApex:Z},props:{chartData:[Object,Boolean],title:String,tooltip:String,legend:{type:Boolean,default:!0},id:String,enableTooltips:{type:Boolean,default:!0},cutoutPercentage:Number,width:{type:Number,default:200},height:{type:Number,default:200},size:{type:Number,default:50},icon:{default:"",type:String},galinks:{type:Object,default:()=>null}},computed:{...d({date:"$_reports/date"}),titleClass(){return"monsterinsights-report-title "+this.icon},tooltipId(){return"monsterinsights-chartjs-pie-"+this.id+"-tooltip"},style(){return this.date.compareReport?"":"max-width: "+this.width+"px; max-height: "+this.width+"px;"},colors(){return P.COLORS},chartWidth(){return this.width},chartHeight(){return this.height},chartSize(){return this.size},compareReportChartData(){if(this.date.compareReport&&this.chartData.compare){if(this.chartData.compare.length&&!this.chartData.compare.labels)return{values:this.chartData.compare,labels:this.chartData.labels};if(this.chartData.compare.values&&this.chartData.compare.labels)return this.chartData.compare}return{}}},methods:{labelBackground(s){return"background-color: "+s+";"},chartClasses(){let s="monsterinsights-reports-pie-chart";return typeof this.chartData.values<"u"&&this.chartData.values.length>7&&(s+=" --long-list"),s}}};var X=function(){var t=this,e=t._self._c;return t.chartData?e("div",{class:t.chartClasses(),attrs:{id:t.id}},[t.title?e("h3",{class:t.titleClass,domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?e("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),e("div",{class:{"monsterinsights-reports-compare-pie-charts":t.date.compareReport}},[e("div",{staticClass:"monsterinsights-reports-pie-chart-holder"},[t.date.compareReport?e("p",{staticClass:"monsterinsights-reports-pie-chart-holder-compare-date"},[t._v(" "+t._s(t.date.intervalText)+" ")]):t._e(),e("div",{staticClass:"monsterinsights-reports-pie-chart-and-legend"},[e("report-pie-chart-apex",{staticClass:"monsterinsights-pie-chart",style:t.style,attrs:{"chart-data":t.chartData,width:t.chartWidth,height:t.chartHeight,size:t.chartSize}}),t.legend?e("ul",{staticClass:"monsterinsights-pie-chart-legend"},t._l(t.chartData.values,function(a,r){return e("li",{key:r},[e("span",{staticClass:"monsterinsights-pie-chart-legend-color",style:t.labelBackground(t.colors[r])}),e("a",{staticClass:"monsterinsights-pie-chart-legend-text-and-value",attrs:{href:t.galinks&&t.galinks[r]?t.galinks[r]:void 0,target:t.galinks&&t.galinks[r]?"_blank":"_self"}},[e("span",{staticClass:"monsterinsights-pie-chart-legend-text",domProps:{textContent:t._s(t.chartData.labels[r])}}),e("span",{staticClass:"monsterinsights-pie-chart-legend-value"},[t._v(" "+t._s(a||0)+"% ")])])])}),0):t._e()],1),e("div",{staticClass:"monsterinsights-pie-chart-tooltip",attrs:{id:t.tooltipId}})]),t.date.compareReport?e("div",{staticClass:"monsterinsights-reports-pie-chart-holder monsterinsights-reports-compare-pie-chart-holder"},[e("p",{staticClass:"monsterinsights-reports-pie-chart-holder-compare-date"},[t._v(" "+t._s(t.date.intervalCompareText)+" ")]),e("div",{staticClass:"monsterinsights-reports-pie-chart-and-legend"},[e("report-pie-chart-apex",{staticClass:"monsterinsights-pie-chart",style:t.style,attrs:{"chart-data":t.compareReportChartData,width:t.chartWidth,height:t.chartHeight,size:t.chartSize}}),t.legend?e("ul",{staticClass:"monsterinsights-pie-chart-legend"},t._l(t.compareReportChartData.values,function(a,r){return e("li",{key:r},[e("span",{staticClass:"monsterinsights-pie-chart-legend-color",style:t.labelBackground(t.colors[r])}),e("span",{staticClass:"monsterinsights-pie-chart-legend-text-and-value"},[e("span",{staticClass:"monsterinsights-pie-chart-legend-text",domProps:{textContent:t._s(t.chartData.labels[r])}}),e("span",{staticClass:"monsterinsights-pie-chart-legend-value"},[t._v(" "+t._s(a||0)+"% ")])])])}),0):t._e()],1),e("div",{staticClass:"monsterinsights-pie-chart-tooltip",attrs:{id:t.tooltipId}})]):t._e()])],1):t._e()},J=[],Q=p(K,X,J,!1,null,null,null,null);const Ot=Q.exports,{__:tt,_n:et,sprintf:st}=wp.i18n,at={name:"ReportInfobox",components:{SettingsInfoTooltip:b},props:{title:String,value:{default:"0",type:String},compareValue:{default:"0",type:String},id:String,days:Number,tooltip:String,change:Number,color:{default:"green",type:String},direction:{default:"up",type:String}},computed:{...d({date:"$_reports/date"}),compare(){return et("vs. Previous Day",st("vs. Previous %s Days",this.days),this.days,"google-analytics-premium")},changeClass(){let s="monsterinsights-reports-infobox-prev ";return typeof this.change>"u"?s+" monsterinsights-prev-nochange":s+" monsterinsights-"+this.color},changeText(){return this.change?this.direction===""?this.change+"%":'<span class="monsterinsights-arrow monsterinsights-'+this.direction+" monsterinsights-"+this.color+'"></span> '+Math.abs(this.change)+"%":tt("No change","google-analytics-premium")}}};var rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"monsterinsights-reports-infobox",attrs:{id:t.id}},[t.title?e("div",{staticClass:"monsterinsights-report-title",domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?e("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),t.date.compareReport?e("div",{staticClass:"monsterinsights-reports-compare-infobox"},[e("div",{staticClass:"monsterinsights-reports-compare-infobox-row"},[e("div",[e("div",{staticClass:"monsterinsights-reports-infobox-number"},[t._v(" "+t._s(t.value)+" ")]),e("div",{staticClass:"monsterinsights-reports-infobox-date-range"},[t._v(" "+t._s(t.date.intervalText)+" ")])]),e("div",[e("div",{class:t.changeClass,domProps:{innerHTML:t._s(t.changeText)}})])]),e("div",{staticClass:"monsterinsights-reports-compare-infobox-row"},[e("div",[e("div",{staticClass:"monsterinsights-reports-infobox-number"},[t._v(" "+t._s(t.compareValue)+" ")]),e("div",{staticClass:"monsterinsights-reports-infobox-date-range"},[t._v(" "+t._s(t.date.intervalCompareText)+" ")])])])]):e("div",{staticClass:"monsterinsights-clearfix"},[t.value!==""?e("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(t.value)}}):t._e(),t.value===""?e("div",{staticClass:"monsterinsights-reports-infobox-number",attrs:{title:t.value},domProps:{textContent:t._s(0)}}):t._e(),e("div",{class:t.changeClass,domProps:{innerHTML:t._s(t.changeText)}}),t.days?e("div",{staticClass:"monsterinsights-reports-infobox-compare",domProps:{textContent:t._s(t.compare)}}):t._e()])],1)},it=[],ot=p(at,rt,it,!1,null,null,null,null);const Nt=ot.exports,{__:E}=wp.i18n,nt={name:"ReportsPagination",props:{limit:Number,length:Number},data(){return{currentLimit:this.limit,text_show:E("Show","google-analytics-premium"),text_all:E("All","google-analytics-premium")}},methods:{sendUpdate(s){this.currentLimit=s,this.$emit("updated",s)},getButtonClass(s){let t="monsterinsights-button";return s===this.currentLimit&&(t+=" monsterinsights-selected-interval"),t}}};var lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"monsterinsights-table-box-pagination"},[e("span",{domProps:{textContent:t._s(t.text_show)}}),e("div",{staticClass:"monsterinsights-buttons-toggle"},[e("button",{class:t.getButtonClass(10),on:{click:function(a){return t.sendUpdate(10)}}},[t._v(" 10 ")]),t.length>10?e("button",{class:t.getButtonClass(25),on:{click:function(a){return t.sendUpdate(25)}}},[t._v(" 25 ")]):t._e(),t.length>25?e("button",{class:t.getButtonClass(50),on:{click:function(a){return t.sendUpdate(50)}}},[t._v(" 50 ")]):t._e(),t.length>50?e("button",{class:t.getButtonClass(t.length),on:{click:function(a){return t.sendUpdate(t.length)}}},[t._v(" "+t._s(t.text_all)+" ")]):t._e()])])},pt=[],ct=p(nt,lt,pt,!1,null,null,null,null);const A=ct.exports,{__:R}=wp.i18n,ht={name:"ReportListBox",components:{ReportsPagination:A,SettingsInfoTooltip:b},props:{title:String,id:String,tooltip:String,rows:Array,icon:{default:"",type:String},withPagination:{default:!0,type:Boolean},reportname:String,main_column_title:String},data(){return{limit:10,text_date_1:R("Date 1","google-analytics-premium"),text_date_2:R("Date 2","google-analytics-premium")}},computed:{...d({date:"$_reports/date"}),componentClass(){let s="monsterinsights-table-box";return this.paginate&&(s+=" monsterinsights-has-pagination"),s},titleClass(){let s="monsterinsights-report-title ";return this.icon&&(s+=this.icon),this.paginate&&(s+=" monsterinsights-has-pagination"),s},paginate(){return this.withPagination&&this.rows.length>10},tableRows(){let s=[...this.rows];if(s.length<10)for(;s.length<10;)s.push({number:"",text:"",right:"",sessions:""});return s=s.slice(0,this.limit),s}},methods:{hasButtonSlot(){return this.$slots.button},changeLimit(s){this.limit=s},changeTitle(s){s===!0?(this.visual_title="Pages",this.display_page_title=!0):(this.visual_title=this.title,this.display_page_title=!1)},displayMainColumn(s){return this.display_page_title===!0?s.page_path:s.text},compareChange(s){if(typeof s.compare_change>"u")return"";let t=s.compare_change>0?"up":"down",e=s.compare_change>0?"green":"red";return'<span class="monsterinsights-arrow monsterinsights-'+t+" monsterinsights-"+e+'"></span> '+Math.abs(s.compare_change)+"%"}}};var dt=function(){var t=this,e=t._self._c;return e("div",{class:t.componentClass,attrs:{id:t.id}},[t.title?e("h3",{class:t.titleClass,domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?e("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),e("div",{staticClass:"monsterinsights-table-box-list"},[t.date.compareReport&&t.rows.length?[e("ul",{staticClass:"monsterinsights-table-box-list-compare-date-legends"},[e("li",[e("strong",{domProps:{textContent:t._s(t.text_date_1)}}),t._v(": "+t._s(t.date.intervalText))]),e("li",[e("strong",{domProps:{textContent:t._s(t.text_date_2)}}),t._v(": "+t._s(t.date.intervalCompareText))])]),e("div",{staticClass:"monsterinsights-table-box-list-compare-thead"},[e("div",{staticClass:"monsterinsights-table-box-list-compare-th monsterinsights-table-box-list-compare-th-text"}),e("div",{staticClass:"monsterinsights-table-box-list-compare-th monsterinsights-table-box-list-compare-th-date"},[t._v(" "+t._s(t.text_date_1)+" ")]),e("div",{staticClass:"monsterinsights-table-box-list-compare-th monsterinsights-table-box-list-compare-th-date"},[t._v(" "+t._s(t.text_date_2)+" ")]),e("div",{staticClass:"monsterinsights-table-box-list-compare-th monsterinsights-table-box-list-compare-th-change"},[t._v(" Change% ")])])]:t._e(),t._l(t.tableRows,function(a,r){return e("div",{key:r,class:{"monsterinsights-table-list-item":!0,"monsterinsights-table-list-item-compare":t.date.compareReport}},[e("div",{staticClass:"monsterinsights-table-list-item-td-text"},[e("span",{staticClass:"monsterinsights-reports-list-count",domProps:{textContent:t._s(a.number)}}),e("span",{staticClass:"monsterinsights-reports-list-text",domProps:{innerHTML:t._s(a.text)}})]),e("div",{staticClass:"monsterinsights-table-list-item-td-number"},[e("span",{staticClass:"monsterinsights-reports-list-number",domProps:{innerHTML:t._s(a.number?t.$formatNumber(a.right):"")}})]),t.date.compareReport?e("div",{staticClass:"monsterinsights-table-list-item-td-number"},[e("span",{staticClass:"monsterinsights-reports-list-number",domProps:{innerHTML:t._s(typeof a.compare_value>"u"?"":t.$formatNumber(a.compare_value))}})]):t._e(),t.date.compareReport?e("div",{staticClass:"monsterinsights-table-list-item-td-change",domProps:{innerHTML:t._s(t.compareChange(a))}}):t._e()])})],2),t.hasButtonSlot()||t.paginate?e("div",{staticClass:"monsterinsights-table-box-footer"},[t._t("button"),t.paginate?e("reports-pagination",{attrs:{limit:t.limit,length:t.rows.length},on:{updated:t.changeLimit}}):t._e()],2):t._e()],1)},mt=[],ut=p(ht,dt,mt,!1,null,null,null,null);const It=ut.exports;const{__:c,sprintf:S}=wp.i18n;Y.directive("click-outside",{bind:function(s,t,e){s.clickOutsideEvent=function(a){s===a.target||s.contains(a.target)||e.context[t.expression](a)},document.body.addEventListener("click",s.clickOutsideEvent)},unbind:function(s){document.body.removeEventListener("click",s.clickOutsideEvent)}});const M=783;let w=!1;const gt={name:"ReportsDatePicker",data(){const s=this;return{config:{mode:"range",disableMobile:"true",dateFormat:"Y-m-d",disable:[function(t){let e=t,a=l(l().tz(s.$mi.timezone).format("YYYY-MM-DD")),i=l.duration(a.diff(e)).asDays();i=i+1;let u=l(t).tz(s.$mi.timezone).subtract(i,"d").tz(s.$mi.timezone),n=l(),v=u.isBetween(l("01-01-2005","MM-DD-YYYY").tz(s.$mi.timezone),n),D=l(t).isBetween(l("01-01-2005","MM-DD-YYYY").tz(s.$mi.timezone),n);return!v||!D}],static:!0,inline:!0},isMobile:window.innerWidth<M,dropdownVisible:!1,isCalendarOpen:!1,dateInputStart:"",dateInputEnd:"",dateCompareStart:"",dateCompareEnd:"",text_compare_to_previous:c("Compare to Previous","google-analytics-premium"),text_cancel:c("Cancel","google-analytics-premium"),text_apply:c("Apply","google-analytics-premium"),text_date_range:c("Date Range","google-analytics-premium"),text_compare_to:c("Compare To","google-analytics-premium"),selectedInterval:"last30days",compareDateLocal:!1}},props:{isGetReportData:{type:Boolean,default:!0},compareOptions:{type:Boolean,default:!0},dashboardWidget:{type:Boolean,default:!1}},computed:{...d({date:"$_reports/date",activeReport:"$_reports/activeReport",mobileTableExpanded:"$_reports/mobileTableExpanded"}),selectedIntervalText(){if(this.date.compareReport)return S(c("%1$sComparison:%2$s %3$s To %4$s","google-analytics-premium"),'<b class="monsterinsights-custom-dates-label">',"</b>",this.date.intervalText,this.date.intervalCompareText);if(this.interval){let e=this.intervals[this.interval];return this.getIntervalFormatted(e.text,e.start,e.end)}let s=l(this.date.start),t=l(this.date.end);return this.dateInputStart&&!this.date.start&&(s=l(this.dateInputStart)),this.dateInputEnd&&!this.date.end&&(t=l(this.dateInputEnd)),S(c("%1$sCustom dates:%2$s %3$s - %4$s","google-analytics-premium"),'<b class="monsterinsights-custom-dates-label">',"</b>",s.format("MMMM D"),t.format("MMMM D, YYYY"))},text_datepicker_placeholder(){return this.isMobile?c("Custom Date Range","google-analytics-premium"):c("Set Custom Date Range","google-analytics-premium")},text_mobile_details(){return this.mobileTableExpanded?c("Hide Details","google-analytics-premium"):c("Show Details","google-analytics-premium")},interval:{set(s){this.$store.commit("$_reports/UPDATE_INTERVAL",s)},get(){let s=this.date.interval;return(s===30||s==="false")&&(s="last30days"),s===7&&(s="last7days"),s}},local_date:{set(s){this.$store.commit("$_reports/UPDATE_DATE_TEXT",s)},get(){return this.date.text}},comparePickerDate:{set(s){this.$store.commit("$_reports/UPDATE_DATE_STORE",{compareText:s})},get(){return this.date.compareText}},dropdownClass(){let s="monsterinsights-reports-intervals-dropdown";return this.dropdownVisible||(s+=" monsterinsights-hide"),s},intervals(){return this.$mi_intervals()},compareDate:{set(s){this.compareDateLocal=s,s||this.$store.commit("$_reports/UPDATE_DATE_STORE",{compareReport:s}),this.selectedInterval&&(this.dropdownVisible=!1,this.sendReportRequest())},get(){return this.compareDateLocal}},showDefaultButtons(){return this.dashboardWidget?this.dropdownVisible&&!this.isCalendarOpen:!0}},components:{flatPickr:B},methods:{updateDates(s){if(this.compareDate)return;const t=this;this.dropdownVisible=!1;let e={};s[0]&&s[1]&&(e.start=this.getFormattedDate(s[0]),e.end=this.getFormattedDate(s[1]),this.interval=!1,document.activeElement.blur(),this.$store.commit("$_reports/UPDATE_DATE",e),t.$emit("date-changed"),this.sendReportRequest())},getFormattedDate(s){if(s instanceof Date){let t=this.addLeadingZero(s.getMonth()+1),e=this.addLeadingZero(s.getDate());s=s.getFullYear()+"-"+t+"-"+e}return s},addLeadingZero(s){return s<10&&s>0?0+s.toString():s},getInterval(s){const t=this;this.dropdownVisible=!1,this.interval=s.interval,this.selectedInterval=s.interval,this.$store.commit("$_reports/UPDATE_DATE_STORE",{start:s.start.format("YYYY-MM-DD"),end:s.end.format("YYYY-MM-DD"),compareStart:s.compareStart.format("YYYY-MM-DD"),compareEnd:s.compareEnd.format("YYYY-MM-DD")}),t.$emit("date-changed",s.interval),window.blur(),this.sendReportRequest(),this.defaultSelectClear()},getIntervalText(s,t){return s.format("YYYYMMDD")===t.format("YYYYMMDD")?s.format("MMMM D, YYYY"):s.format("MMMM D")+" - "+t.format("MMMM D, YYYY")},getIntervalFormatted(s,t,e){return"<b>"+s+'<span class="monsterinsights-datepicker-colon">:</span></b> <span class="monsterinsights-datepicker-interval-dates">'+this.getIntervalText(t,e)+"</span>"},getButtonClass(s){let t="monsterinsights-button";return s===this.interval&&(t+=" monsterinsights-selected-interval"),t},hideMobileTables(){this.mobileTableExpanded&&this.$store.commit("$_reports/CONTRACT_TABLES")},showMobileTables(){this.mobileTableExpanded||this.$store.commit("$_reports/EXPAND_TABLES")},toggleMobileTables(){this.mobileTableExpanded?this.hideMobileTables():this.showMobileTables()},handleResize(){w||(w=!0,window.requestAnimationFrame?window.requestAnimationFrame(this.resizeCallback):setTimeout(this.resizeCallback,66))},resizeCallback(){this.isMobile=window.innerWidth<M,w=!1},openFlatPicker(){this.isCalendarOpen=!0,this.selectedInterval=!1,this.$store.commit("$_reports/UPDATE_DATE_STORE",{start:"",end:"",compareStart:"",compareEnd:""})},showIfFlatpickr(){return!this.$refs.datePicker||this.dashboardWidget&&!this.isCalendarOpen?"monsterinsights-hide":this.isCalendarOpen||!this.interval?"":"monsterinsights-hide"},maybeHideDropdown(){this.isCalendarOpen=!1,this.dropdownVisible&&(this.dropdownVisible=!1)},intervalButtonClass(s){let t="monsterinsights-button ";return this.interval===s&&(t+=" monsterinsights-interval-active"),t},toggleDropdown(){this.dropdownVisible=!this.dropdownVisible,this.isCalendarOpen=!1},onCancelDatepicker(){this.isCalendarOpen=!1,this.dropdownVisible=!1},onApplyDatepicker(){this.isReadyToApplyDatepicker()&&(this.dropdownVisible=!1,this.interval=!1,window.blur(),this.sendReportRequest())},onComparePickerChange(s){s[0]&&(this.dateCompareStart=l(s[0]).format("MMMM D, YYYY"),this.updateDateToStore(s[0],"compareStart")),s[1]&&(this.dateCompareEnd=l(s[1]).format("MMMM D, YYYY"),this.updateDateToStore(s[1],"compareEnd"))},onDatePickerChange(s){s[0]&&(this.dateInputStart=l(s[0]).format("MMMM D, YYYY"),this.updateDateToStore(s[0],"start")),s[1]&&(this.dateInputEnd=l(s[1]).format("MMMM D, YYYY"),this.updateDateToStore(s[1],"end"))},updateDateToStore(s,t){this.$store.commit("$_reports/UPDATE_DATE_STORE",{[t]:this.getFormattedDate(s)})},sendReportRequest(){this.isGetReportData&&(this.$store.commit("$_reports/UPDATE_DATE_STORE",{compareReport:this.compareDateLocal}),this.$store.dispatch("$_reports/getReportData",this.activeReport).then(()=>{this.$emit("reports-updated")}))},isReadyToApplyDatepicker(){return this.compareDate?this.date.compareStart&&this.date.compareEnd:!0},defaultSelectClear(){this.dateInputStart="",this.dateInputEnd="",this.dateCompareStart="",this.dateCompareEnd="",this.local_date="",this.comparePickerDate=""}},mounted(){this.compareDateLocal=this.date.compareReport,this.selectedInterval=this.date.interval,this.selectedInterval===!1&&(this.date.start&&(this.dateInputStart=l(this.date.start).format("MMMM D, YYYY")),this.date.end&&(this.dateInputEnd=l(this.date.end).format("MMMM D, YYYY"))),this.date.compareReport&&(this.date.compareStart&&(this.dateCompareStart=l(this.date.compareStart).format("MMMM D, YYYY")),this.date.compareEnd&&(this.dateCompareEnd=l(this.date.compareEnd).format("MMMM D, YYYY"))),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}};var ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"monsterinsights-reports-datepicker"},[e("div",{staticClass:"monsterinsights-reports-interval-dropdown-container"},[e("button",{staticClass:"monsterinsights-reports-interval-date-info",on:{click:function(a){return a.stopPropagation(),t.toggleDropdown.apply(null,arguments)}}},[e("span",{domProps:{innerHTML:t._s(t.selectedIntervalText)}}),e("i",{staticClass:"monstericon-calendar-alt"})]),e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.maybeHideDropdown,expression:"maybeHideDropdown"}],class:t.dropdownClass},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showDefaultButtons,expression:"showDefaultButtons"}],staticClass:"monsterinsights-datepicker-default-buttons"},[t._l(t.intervals,function(a,r){return e("div",{key:r},[e("button",{class:t.intervalButtonClass(a.interval),domProps:{innerHTML:t._s(t.getIntervalFormatted(a.text,a.start,a.end))},on:{click:function(i){return t.getInterval(a)}}})])}),t._t("beforeinterval"),e("div",[e("button",{class:t.intervalButtonClass(!1),on:{click:t.openFlatPicker}},[e("i",{staticClass:"monstericon-calendar-alt"}),t._v(" "),e("span",{domProps:{textContent:t._s(t.text_datepicker_placeholder)}})])]),t.compareOptions?e("div",[e("div",{staticClass:"monsterinsights-datepicker-input-switch"},[e("label",[e("span",{class:{"monsterinsights-styled-checkbox":!0,"monsterinsights-styled-checkbox-checked":t.compareDate}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.compareDate,expression:"compareDate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.compareDate)?t._i(t.compareDate,null)>-1:t.compareDate},on:{change:function(a){var r=t.compareDate,i=a.target,o=!!i.checked;if(Array.isArray(r)){var u=null,n=t._i(r,u);i.checked?n<0&&(t.compareDate=r.concat([u])):n>-1&&(t.compareDate=r.slice(0,n).concat(r.slice(n+1)))}else t.compareDate=o}}}),e("span",{staticClass:"monsterinsights-checkbox-label",domProps:{textContent:t._s(t.text_compare_to_previous)}})])])]):t._e()],2),e("div",{class:["monsterinsights-datepicker-range-wrapper",t.showIfFlatpickr()]},[e("div",{staticClass:"monsterinsights-datepicker-range-inputs"},[e("div",{staticClass:"monsterinsights-datepicker-range-input"},[e("h3",{domProps:{textContent:t._s(t.text_date_range)}}),e("div",{staticClass:"monsterinsights-datepicker-range-input-fields"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateInputStart,expression:"dateInputStart"}],attrs:{type:"text"},domProps:{value:t.dateInputStart},on:{input:function(a){a.target.composing||(t.dateInputStart=a.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateInputEnd,expression:"dateInputEnd"}],attrs:{type:"text"},domProps:{value:t.dateInputEnd},on:{input:function(a){a.target.composing||(t.dateInputEnd=a.target.value)}}})])]),t.compareDate?e("div",{staticClass:"monsterinsights-datepicker-range-input"},[e("h3",{domProps:{textContent:t._s(t.text_compare_to)}}),e("div",{staticClass:"monsterinsights-datepicker-range-input-fields"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateCompareStart,expression:"dateCompareStart"}],attrs:{type:"text"},domProps:{value:t.dateCompareStart},on:{input:function(a){a.target.composing||(t.dateCompareStart=a.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateCompareEnd,expression:"dateCompareEnd"}],attrs:{type:"text"},domProps:{value:t.dateCompareEnd},on:{input:function(a){a.target.composing||(t.dateCompareEnd=a.target.value)}}})])]):t._e()]),e("div",{staticClass:"monsterinsights-datepicker-calender-wrapper"},[e("div",{staticClass:"monsterinsights-datepicker-calenders"},[e("div",{staticClass:"monsterinsights-datepicker-calender"},[e("flat-pickr",{ref:"datePicker",staticClass:"monsterinsights-datepicker",attrs:{config:t.config},on:{"on-close":t.updateDates,"on-change":t.onDatePickerChange},model:{value:t.local_date,callback:function(a){t.local_date=a},expression:"local_date"}})],1),t.compareDate?e("div",{staticClass:"monsterinsights-datepicker-calender"},[e("flat-pickr",{ref:"comparePicker",staticClass:"monsterinsights-datepicker",attrs:{config:t.config},on:{"on-change":t.onComparePickerChange},model:{value:t.comparePickerDate,callback:function(a){t.comparePickerDate=a},expression:"comparePickerDate"}})],1):t._e()]),t.compareDate?e("div",{staticClass:"monsterinsights-datepicker-calenders-bottom"},[e("button",{staticClass:"monsterinsights-button monsterinsights-button-secondary",domProps:{textContent:t._s(t.text_cancel)},on:{click:t.onCancelDatepicker}}),e("button",{class:{"monsterinsights-button":!0,"monsterinsights-button-primary":!0,"monsterinsights-button-disabled":!t.isReadyToApplyDatepicker()},attrs:{disabled:!t.isReadyToApplyDatepicker()},domProps:{textContent:t._s(t.text_apply)},on:{click:t.onApplyDatepicker}})]):t._e()])])])]),e("button",{staticClass:"monsterinsights-button monsterinsights-mobile-details-toggle",domProps:{textContent:t._s(t.text_mobile_details)},on:{click:t.toggleMobileTables}})])},_t=[],Ct=p(gt,ft,_t,!1,null,null,null,null);const bt=Ct.exports,vt={name:"MIReportsDatePicker",extends:bt},Dt=null,yt=null;var xt=p(vt,Dt,yt,!1,null,null,null,null);const Ht=xt.exports,{__:F}=wp.i18n,wt={name:"ReportTableBox",components:{ReportsPagination:A,SettingsInfoTooltip:b},props:{title:String,tooltip:String,rows:Array,headers:Array,button:Object,emptytext:String,error:String,mobileWidth:{default:783,type:Number},icon:{default:"",type:String},compareSingleColumns:{type:Array,default:()=>[0]},hasCompareChangeColumn:{type:Boolean,default:!1},compareChangeOpposite:{type:Array,default:()=>[]}},data(){return{paginate:!1,limit:10,text_show:F("Show","google-analytics-premium"),activeRow:"",isMobile:!1,resizing:!1}},computed:{...d({mobileTableExpanded:"$_reports/mobileTableExpanded",date:"$_reports/date"}),mobileHeaders(){let s=[];return this.headers.forEach(function(t,e){e>0&&s.push(t)}),s},emptyTable(){let s=[[this.emptytext]];for(;s.length<10;)s.push(["&nbsp;"]);return s},componentClass(){let s="monsterinsights-table-box";return this.isMobile&&(s+=" monsterinsights-table-box-mobile"),this.title||(s+=" monsterinsights-table-box-no-title"),this.date.compareReport&&(s+=" monsterinsights-table-box-compare-report"),this.paginate&&(s+=" monsterinsights-has-pagination"),s},tableRows(){let s=this.rows.filter(()=>!0);if(s.length<10){let t=[],e=0;for(;e<this.headers.length;){let a=[""];e>0&&this.date.compareReport&&(a.push(""),this.hasCompareChangeColumn&&a.push("")),t.push(a),e++}for(;s.length<10;)s.push(t)}return s=s.slice(0,this.limit),s},titleClass(){let s="monsterinsights-report-title ";return this.icon&&(s+=this.icon),this.paginate&&(s+=" monsterinsights-has-pagination"),s},compareDateColumns(){if(!this.date.compareReport)return[];let s=[];return this.headers.forEach((t,e)=>{this.compareSingleColumns.includes(e)||(s.push(this.date.intervalText,this.date.intervalCompareText),this.hasCompareChangeColumn&&s.push(F("Change%","google-analytics-premium")))}),s}},methods:{hasButtonSlot(){return this.rows.length>10&&(this.paginate=!0),this.$slots.button},getButtonClass(s){let t="monsterinsights-button";return s===this.limit&&(t+=" monsterinsights-selected-interval"),t},cellText(s,t,e){return s===""?"&nbsp;":t===0?'<span class="monsterinsights-reports-list-count">'+(e+1)+'.</span><span class="monsterinsights-reports-list-title">'+s+"</span>":s},rowClass(s){let t="monsterinsights-table-list-item";return(this.mobileTableExpanded||this.activeRow===s)&&window.innerWidth<this.mobileWidth&&(t+=" monsterinsights-table-list-item-active"),this.tableRows[s][0]===""&&(t+=" monsterinsights-table-list-item-empty"),t},showMobileRow(s,t){return window.innerWidth<this.mobileWidth&&t>0&&(this.mobileTableExpanded||s===this.activeRow)},handleResize(){this.resizing||(this.resizing=!0,window.requestAnimationFrame?window.requestAnimationFrame(this.resizeCallback):setTimeout(this.resizeCallback,66))},resizeCallback(){this.isMobile=window.innerWidth<this.mobileWidth,this.resizing=!1},cellClass(s){return s++,"monsterinsights-table-cell-"+s},toggleMobileTables(s){if(this.mobileTableExpanded)return!1;this.activeRow=this.activeRow===s?"":s},changeLimit(s){this.limit=s},getRowSpan(s){return this.compareSingleColumns.includes(s)&&this.date.compareReport?2:1},getColSpan(s){return!this.compareSingleColumns.includes(s)&&this.date.compareReport?this.hasCompareChangeColumn?3:2:1}},mounted(){window.addEventListener("resize",this.handleResize),this.handleResize()},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}};var kt=function(){var t=this,e=t._self._c;return e("div",{class:t.componentClass},[t.title?e("h3",{class:t.titleClass,domProps:{textContent:t._s(t.title)}}):t._e(),t.tooltip?e("settings-info-tooltip",{attrs:{content:t.tooltip}}):t._e(),e("div",{staticClass:"monsterinsights-table-box-list monsterinsights-table-box-table"},[t.error?e("div",[e("h3",{domProps:{textContent:t._s(t.error)}})]):t.rows.length>0?e("table",{class:{"monsterinsights-report-box-table-compare-report":t.date.compareReport}},[t.headers.length>0?e("thead",{class:{"monsterinsights-report-table-head-compare-report":t.date.compareReport}},[e("tr",{staticClass:"monsterinsights-report-box-table-head-columns"},t._l(t.headers,function(a,r){return e("th",{key:r,attrs:{rowspan:t.getRowSpan(r),colspan:t.getColSpan(r)},domProps:{textContent:t._s(a)}})}),0),t.date.compareReport?e("tr",{class:{"monsterinsights-report-table-head-date-range-row":!0,"monsterinsights-report-table-head-date-range-row-has-change-col":t.hasCompareChangeColumn}},t._l(t.compareDateColumns,function(a,r){return e("th",{key:r},[t._v(" "+t._s(a)+" ")])}),0):t._e()]):t._e(),e("tbody",{class:{"monsterinsights-report-table-body-compare-report":t.date.compareReport}},t._l(t.tableRows,function(a,r){return e("tr",{key:r,class:t.rowClass(r),on:{click:function(i){return t.toggleMobileTables(r)}}},t._l(t.tablePrepareColumnItems(a),function(i,o){return e("td",{key:o+"td"+r,class:t.cellClass(o)},[t.tableIsCurrentColumn(o)?[t.showMobileRow(r,o)?e("div",{staticClass:"monsterinsights-table-mobile-heading",domProps:{textContent:t._s(t.headers[o])}}):t._e(),e("div",{staticClass:"monsterinsights-table-item-content",domProps:{innerHTML:t._s(t.cellText(i,o,r))}})]:t._e(),t.tableIsPreviousColumn(o)?[e("span",{staticClass:"monsterinsights-table-item-compare-report-content",domProps:{innerHTML:t._s(i)}})]:t._e(),t.tableIsChangeColumn(i,o)?[e("div",{staticClass:"monsterinsights-table-item-compare-report-change",domProps:{innerHTML:t._s(t.tableCompareChange(i,o))}})]:t._e()],2)}),0)}),0)]):e("div",{staticClass:"monsterinsights-table-no-data"},[e("h3",{domProps:{textContent:t._s(t.emptytext)}})])]),t.hasButtonSlot()||t.paginate?e("div",{staticClass:"monsterinsights-table-box-footer"},[t._t("button"),t.paginate?e("reports-pagination",{attrs:{limit:t.limit,length:t.rows.length},on:{updated:t.changeLimit}}):t._e()],2):t._e()],1)},$t=[],Et=p(wt,kt,$t,!1,null,null,null,null);const Ut=Et.exports,{__:h,sprintf:C}=wp.i18n,Rt={name:"ReportUpsellOverlay",props:{report:String,customSubheading:{type:String,default:null},forceTwoColumns:{type:Boolean,default:!1},noImage:{type:Boolean,default:!1},upgradeHref:{type:String,default:null},isAgency:{type:Boolean,default:!1},showSampleButton:{type:Boolean,default:!0}},data(){return{upgrade_link:this.$getUpgradeUrl("report",this.report),report_class:"upsell-"+this.report,showOverlay:!0}},computed:{...d({noauth:"$_reports/noauth"}),upsellData(){return this.$mi_get_upsell_content(this.report)},texts(){return{upsellButton:h("Upgrade and Unlock","google-analytics-premium"),subheading:this.customSubheading?this.customSubheading:C(h("Whatâ€™s in the %1$s?","google-analytics-premium"),this.upsellData.mainheading),footerNotice:C(h("%1$sPlus%2$s, upgrading to Pro will unlock %1$sall%2$s advanced reports, tracking, and integrations. %3$sLearn more about Pro%4$s","google-analytics-premium"),"<strong>","</strong>",'<a target="_blank" href="'+this.upgrade_link+'">',"</a>"),featuresCliff:h("And more!","google-analytics-premium"),seeSampleReport:h("See a Sample Report","google-analytics-premium")}},featuresClass(){return this.upsellData.features.length>4||this.forceTwoColumns?"columns-2":"columns-1"},footer_notice(){return C(h("%1$sPlus%2$s, upgrading to %5$s will unlock %1$sall%2$s advanced reports, tracking, and integrations. %3$sLearn more about %5$s%4$s","google-analytics-premium"),"<strong>","</strong>",'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>",this.isAgency?"Agency":"Pro")}},methods:{getUpgradeLink(){return this.upgradeHref?this.upgradeHref:this.$getUpgradeUrl("report",this.report)},seeSampleReport(){this.showOverlay=!1,this.$store.commit("$_reports/DISABLE_BLUR"),this.$store.dispatch("$_app/addNotice",{id:"lite_sample_report",content:C(h("This is a sample report. %1$sUpgrade to Pro%2$s to unlock for your website.","google-analytics-premium"),'<a target="_blank" href="'+this.getUpgradeLink()+'">',"</a>"),type:"warning",dismissable:!0},{root:!0})}},beforeDestroy(){this.$store.dispatch("$_app/removeNotice","lite_sample_report")}};var St=function(){var t=this,e=t._self._c;return!t.noauth&&t.showOverlay?e("div",{staticClass:"monsterinsights-upsell-overlay"},[e("div",{staticClass:"monsterinsights-upsell-top"},[t.upsellData.mainheading?e("h3",{domProps:{textContent:t._s(t.upsellData.mainheading)}}):t._e()]),e("div",{staticClass:"monsterinsights-upsell-content"},[e("div",{staticClass:"monsterinsights-upsell-content__features"},[t.upsellData.title?e("h3",{domProps:{textContent:t._s(t.upsellData.title)}}):t._e(),t.texts.subheading?e("h4",{domProps:{textContent:t._s(t.texts.subheading)}}):t._e(),t.upsellData.features?e("ul",{class:t.featuresClass},t._l(t.upsellData.features,function(a,r){return e("li",{key:r,domProps:{textContent:t._s(a)}})}),0):t._e(),e("div",{staticClass:"monsterinsights-upsell-content__features-cliff"},[e("p",{domProps:{innerHTML:t._s(t.texts.featuresCliff)}})]),e("p",{domProps:{innerHTML:t._s(t.footer_notice)}}),e("div",{staticClass:"monsterinsights-upsell-content-buttons"},[e("a",{staticClass:"monsterinsights-button",attrs:{href:t.getUpgradeLink(),target:"_blank"},domProps:{textContent:t._s(t.texts.upsellButton)}}),t.showSampleButton?e("a",{staticClass:"monsterinsights-upsell-content-button-sample-report",attrs:{href:"#"},domProps:{textContent:t._s(t.texts.seeSampleReport)},on:{click:function(a){return a.preventDefault(),t.seeSampleReport.apply(null,arguments)}}}):t._e()])]),t.noImage?t._e():e("div",{staticClass:"monsterinsights-upsell-content__img",class:t.report_class})])]):t._e()},Mt=[],Ft=p(Rt,St,Mt,!1,null,null,null,null);const Vt=Ft.exports,{__:m}=wp.i18n,Tt={name:"ReportReAuth",data(){return{text_no_auth:m("MonsterInsights encountered an error loading your report data","google-analytics-premium"),text_auth_label:m("There is an issue with your Google Account authentication. Please use the button below to fix it by re-authenticating.","google-analytics-premium"),text_button_reconnect:m("Reconnect MonsterInsights","google-analytics-premium")}},methods:{doReAuth:function(s){s.preventDefault();const t=this;this.$swal({icon:"info",title:m("Re-Authenticating","google-analytics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,onOpen:function(){t.$swal.showLoading()}}),this.$store.dispatch("$_auth/doReAuth",this.is_network).then(function(e){e.data.redirect?window.location=e.data.redirect:t.$swal({icon:"error",title:m("Error","google-analytics-premium"),text:e.data.message,confirmButtonText:m("Ok","google-analytics-premium")})})}}};var Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"monsterinsights-not-authenticated-notice"},[e("h3",{domProps:{textContent:t._s(t.text_no_auth)}}),e("p",{domProps:{textContent:t._s(t.text_auth_label)}}),e("p",[e("button",{staticClass:"monsterinsights-button",domProps:{textContent:t._s(t.text_button_reconnect)},on:{click:t.doReAuth}})])])},At=[],Yt=p(Tt,Pt,At,!1,null,null,null,null);const Wt=Yt.exports,qt={install(s){s.mixin({methods:{tablePrepareColumnItems(t){let e=[];return Array.isArray(t)&&t.forEach(a=>{Array.isArray(a)&&a.forEach((r,i)=>{!this.date.compareReport&&i>0||e.push(r)})}),e},tableIsCurrentColumn(t){return!this.date.compareReport||t==0||t==1?!0:(t-=this.compareSingleColumns.length,this.hasCompareChangeColumn?t%3===0:t%2===0)},tableIsPreviousColumn(t){return this.date.compareReport?(t-=this.compareSingleColumns.length,this.hasCompareChangeColumn?[1,4,7,10,13,16].includes(t):[1,3,5,7,9,11,13].includes(t)):!1},tableIsChangeColumn(t,e){return t===""||!this.hasCompareChangeColumn||!this.date.compareReport?!1:(e-=this.compareSingleColumns.length,[2,5,8,11,14,17].includes(e))},tableCompareChange(t,e){let a=Number(t),r=a>0?"up":"down",i=a>0?"green":"red";return this.compareChangeOpposite.includes(e)&&(i=a<=0?"green":"red"),'<span class="monsterinsights-arrow monsterinsights-'+r+" monsterinsights-"+i+'"></span> '+Math.abs(a)+"%"},tableFormatRowData(t,e=null,a=null){if(Array.isArray(t))return t.map((r,i)=>{if(i==2)return r;let o=a?a(r):r;return e&&(o+=e),o});if(typeof t<"u"){let r=a?a(t):t;return e&&(r+=e),[r]}return["--"]}}})}};export{Ht as R,It as a,Ot as b,Nt as c,zt as d,bt as e,Vt as f,Ut as g,A as h,P as i,Wt as j,qt as k};
